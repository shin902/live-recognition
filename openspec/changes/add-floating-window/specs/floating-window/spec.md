# Spec: floating-window

## Overview

Electronアプリケーションに「常に最前面に表示されるフローティングウィンドウ」機能を提供する。

---

## ADDED Requirements

### Requirement: フレームレス透明ウィンドウ

アプリケーションウィンドウは、OSネイティブのウィンドウ枠（タイトルバー、閉じるボタン等）を持たず、
背景が完全に透明である必要がある。

#### Scenario: アプリ起動時のウィンドウ表示

- **Given**: アプリケーションが起動される
- **When**: メインウィンドウが作成される
- **Then**: ウィンドウ枠（タイトルバー、閉じるボタン）が表示されない
- **And**: ウィンドウの背景が透明で、HTMLコンテンツのみが表示される

---

### Requirement: 常に最前面表示

アプリケーションウィンドウは、他のすべてのウィンドウより上に表示され続ける。

#### Scenario: 他アプリをアクティブにした場合

- **Given**: フローティングウィンドウが表示されている
- **When**: ユーザーが他のアプリケーション（ブラウザ、エディタ等）をクリックしてアクティブにする
- **Then**: フローティングウィンドウは他アプリの上に表示され続ける

---

### Requirement: 画面下部中央固定配置

アプリケーションウィンドウは、プライマリディスプレイの下部中央に配置され、
ユーザーによる移動やサイズ変更ができない。

#### Scenario: ウィンドウの初期位置

- **Given**: アプリケーションが起動される
- **When**: メインウィンドウが表示される
- **Then**: ウィンドウは画面下部中央に配置される（下端から約20pxの余白）
- **And**: ウィンドウサイズは固定（約600x60px）

#### Scenario: ウィンドウの移動・サイズ変更の禁止

- **Given**: フローティングウィンドウが表示されている
- **When**: ユーザーがウィンドウをドラッグしようとする
- **Then**: ウィンドウは移動しない

- **When**: ユーザーがウィンドウの端をドラッグしてサイズ変更しようとする
- **Then**: ウィンドウサイズは変更されない

---

### Requirement: 半透明バーデザイン

ウィンドウのHTMLコンテンツは、角丸の半透明黒バーとして表示され、
背景にblur効果が適用される。

#### Scenario: フローティングバーの外観

- **Given**: フローティングウィンドウが表示されている
- **When**: ユーザーがウィンドウを見る
- **Then**: 背景が半透明の黒（約85%不透明度）で表示される
- **And**: 背景にblur効果（ぼかし）が適用されている
- **And**: ウィンドウの角が丸みを帯びている（border-radius約30px）
- **And**: 軽いドロップシャドウが適用されている

---

### Requirement: macOS Dock非表示

macOS環境において、アプリケーションアイコンがDockに表示されない。

#### Scenario: Dockアイコンの非表示

- **Given**: macOS環境でアプリケーションが起動される
- **When**: ユーザーがDockを確認する
- **Then**: アプリケーションアイコンがDockに表示されていない

---

## Cross-References

- **関連**: `openspec/project.md` の「macOS専用」制約
- **将来拡張**: クリックスルー機能、フルスクリーン対応（本specのスコープ外）
